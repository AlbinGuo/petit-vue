{"version":3,"file":"vue.js","sources":["../../src/state.js","../../src/init.js","../../src/index.js"],"sourcesContent":["export function stateMixin() {}\r\n\r\nexport function initState(vm) {\r\n  const opt = vm.$options;\r\n  if (opt.props) initProps(vm);\r\n  if (opt.methods) initMethods(vm);\r\n  if (opt.data) initData(vm);\r\n  if (opt.computed) initComputed(vm);\r\n  if (opt.watch) initWatch(vm);\r\n}\r\n\r\nfunction initProps(vm) {}\r\n\r\nfunction initMethods(vm) {}\r\n\r\nfunction initData(vm) {\r\n  // 传递过来的data，此时data可能是函数，也可能是对象{}\r\n  // 但最终都要转为对象\r\n  let data = vm.$options.data;\r\n  data = vm._data = typeof data === \"function\" ? data.call(vm) : data || {};\r\n}\r\n\r\nfunction initComputed(vm) {}\r\n\r\nfunction initWatch(vm) {}\r\n","import { initState } from \"./state\";\r\n// 在Vue原型上绑定私有的初始化方法_init\r\nexport function initMixin(Vue) {\r\n  Vue.prototype._init = function(options) {\r\n    const vm = this;\r\n    vm.$options = options;\r\n    // 状态初始化: 初始化顺序：props-methods-data-computed-watch\r\n    initState(vm);\r\n  };\r\n}\r\n","import { initMixin } from \"./init\";\r\nimport { stateMixin } from \"./state\";\r\n\r\n// Vue的构造函数\r\nfunction Vue(options) {\r\n  // Vue的初始化操作\r\n  this._init(options);\r\n}\r\n\r\n// 在Vue原型上绑定_init初始化方法\r\ninitMixin(Vue);\r\n// 状态初始化\r\nstateMixin();\r\n\r\nexport default Vue;\r\n"],"names":["initState","vm","opt","$options","props","initProps","methods","initMethods","data","initData","computed","initComputed","watch","initWatch","_data","call","initMixin","Vue","prototype","_init","options"],"mappings":";;;;;;EAEO,SAASA,SAAT,CAAmBC,EAAnB,EAAuB;EAC5B,EAAA,IAAMC,GAAG,GAAGD,EAAE,CAACE,QAAf,CAAA;EACA,EAAA,IAAID,GAAG,CAACE,KAAR,EAAeC,CAAA;EACf,EAAA,IAAIH,GAAG,CAACI,OAAR,EAAiBC,CAAA;EACjB,EAAA,IAAIL,GAAG,CAACM,IAAR,EAAcC,QAAQ,CAACR,EAAD,CAAR,CAAA;EACd,EAAA,IAAIC,GAAG,CAACQ,QAAR,EAAkBC,CAAA;EAClB,EAAA,IAAIT,GAAG,CAACU,KAAR,EAAeC,CAAA;EAChB,CAAA;;EAMD,SAASJ,QAAT,CAAkBR,EAAlB,EAAsB;EACpB;EACA;EACA,EAAA,IAAIO,IAAI,GAAGP,EAAE,CAACE,QAAH,CAAYK,IAAvB,CAAA;EACAA,EAAAA,IAAI,GAAGP,EAAE,CAACa,KAAH,GAAW,OAAON,IAAP,KAAgB,UAAhB,GAA6BA,IAAI,CAACO,IAAL,CAAUd,EAAV,CAA7B,GAA6CO,IAAI,IAAI,EAAvE,CAAA;EACD;;EClBM,SAASQ,SAAT,CAAmBC,GAAnB,EAAwB;EAC7BA,EAAAA,GAAG,CAACC,SAAJ,CAAcC,KAAd,GAAsB,UAASC,OAAT,EAAkB;EACtC,IAAMnB,IAAAA,EAAE,GAAG,IAAX,CAAA;EACAA,IAAAA,EAAE,CAACE,QAAH,GAAciB,OAAd,CAFsC;;EAItCpB,IAAAA,SAAS,CAACC,EAAD,CAAT,CAAA;EACD,GALD,CAAA;EAMD;;ECLD,SAASgB,GAAT,CAAaG,OAAb,EAAsB;EACpB;EACA,EAAKD,IAAAA,CAAAA,KAAL,CAAWC,OAAX,CAAA,CAAA;EACD;;;EAGDJ,SAAS,CAACC,GAAD,CAAT;;;;;;;;"}